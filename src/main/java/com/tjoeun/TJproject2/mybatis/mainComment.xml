<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tjoeun.TJproject2.vo.MainCommentVO">

	<!-- 댓글 하나를 저장 -->
	<insert id="insertComment" parameterType="co">
		insert into maincomment (idx, name, content, gup)
		values (maincomment_idx_seq.nextval, #{name}, #{content}, 1)
	</insert>
	
	<!-- 댓글 전체를 가져옴 -->
	<select id="selectCommentList" resultType="co">
		select * from maincomment order by idx asc
	</select>

	<!-- 댓글 하나를 가져옴 -->
	<select id="selectCommentByIdx" parameterType="int" resultType="co">
		select * from maincomment where idx = #{idx}
	</select>

	<!-- 댓글 하나를 삭제(미사용) -->
	<delete id="deleteComment" parameterType="int">
		delete from maincomment where idx = #{idx}
	</delete>

	<!-- 삭제된 댓글 하나를 삭제된 메시지로 수정 -->
	<update id="deleteCommentMessage" parameterType="int">
		update maincomment set content = '삭제된 댓글입니다' where idx = #{idx}
	</update>
	
	<!-- 삭제된 댓글 하나의 삭제 여부 필드값을 'deleted'로 수정(미사용) -->
	<update id="deleteCommentCheck" parameterType="int">
		update maincomment set deleteCheck = 'deleted' where idx = #{idx}
	</update>
</mapper>
